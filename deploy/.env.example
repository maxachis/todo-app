SECRET_KEY=<auto-generated-during-setup>
ALLOWED_HOSTS=<your-tailscale-hostname>
DEBUG=False
DB_PATH=/opt/todoapp/db.sqlite3

# Cloudflare R2 (for Litestream backups)
LITESTREAM_ACCESS_KEY_ID=
LITESTREAM_SECRET_ACCESS_KEY=
R2_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
R2_BUCKET=todoapp-backups

# Outlook email import (Microsoft Graph API)
# 1. Register app at https://portal.azure.com → App registrations → New registration
#    - Name: "ToDo App Email Import"
#    - Supported account types: "Personal Microsoft accounts only"
#    - Redirect URI: leave blank
# 2. Under "Authentication" → Enable "Allow public client flows" → Yes
# 3. Under "API permissions" → Add "Microsoft Graph" → "Mail.ReadWrite" (delegated)
# 4. Copy the Application (client) ID below
OUTLOOK_CLIENT_ID=
# For personal Microsoft accounts, use "consumers" (default)
OUTLOOK_TENANT_ID=consumers
# Category names used to tag/untag emails in Outlook
# In Outlook (web or desktop): right-click any email → Categorize → Manage categories
# Create a category named "ToDo" (or whatever you set below). To import an email
# as a task, apply this category to it — the poller picks it up and swaps it to
# the processed category so it won't be imported again.
OUTLOOK_SOURCE_CATEGORY=ToDo
OUTLOOK_PROCESSED_CATEGORY=ToDo-Imported
# List name in the app where imported tasks land
OUTLOOK_INBOX_LIST_NAME=Email Inbox
#
# After setting OUTLOOK_CLIENT_ID, run once:
#   uv run python manage.py outlook_auth
#
# Then add to crontab:
#   */5 * * * * cd /opt/todoapp && uv run python manage.py poll_outlook >> /var/log/poll_outlook.log 2>&1

{% if grouped_results %}
<div class="search-results-header">
  <span class="search-results-count">{{ total_count }} result{{ total_count|pluralize }}</span>
</div>
{% for group in grouped_results %}
<div class="search-group">
  <div class="search-group-header">
    {% if group.list.emoji %}{{ group.list.emoji }} {% endif %}{{ group.list.name }}
  </div>
  {% for item in group.tasks %}
  <a class="search-result-item"
     href="/lists/{{ group.list.id }}/"
     hx-get="/lists/{{ group.list.id }}/?task_id={{ item.task.id }}"
     hx-target="#center-panel"
     hx-push-url="/lists/{{ group.list.id }}/"
     onclick="closeSearchResults()">
    <span class="search-result-title {% if item.task.is_completed %}completed{% endif %}">{{ item.task.title }}</span>
    <span class="search-result-meta">{{ item.section_name }}</span>
    {% for tag in item.task.tags.all %}
    <span class="task-tag">{{ tag.name }}</span>
    {% endfor %}
  </a>
  {% endfor %}
</div>
{% endfor %}
{% elif query %}
<div class="search-no-results">
  No tasks found for "{{ query }}"
</div>
{% endif %}

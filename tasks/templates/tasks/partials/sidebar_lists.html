<div class="sidebar-brand">
  <h1 class="app-title">todo</h1>
</div>

<div class="sidebar-header">
  <h2>Lists</h2>
  <div class="sidebar-actions">
    <a href="/export/json/" class="btn btn-sm">Export All</a>
  </div>
</div>

<ul class="list-nav" id="list-nav">
  {% for list in lists %}
  <li class="list-nav-item {% if active_list.id == list.id %}active{% endif %}"
      data-list-id="{{ list.id }}"
      hx-get="/lists/{{ list.id }}/"
      hx-target="#center-panel"
      hx-push-url="true">
    <span class="list-nav-display">
      <span class="list-emoji">{{ list.emoji }}</span>
      <span class="list-name">{{ list.name }}</span>
    </span>
    <form class="list-nav-edit-form"
          hx-post="/lists/{{ list.id }}/update/"
          hx-target="#sidebar" hx-swap="innerHTML">
      <button type="button" class="emoji-trigger" data-emoji-target="emoji">
        {{ list.emoji|default:"+" }}
      </button>
      <input type="hidden" name="emoji" value="{{ list.emoji }}">
      <input type="text" name="name" value="{{ list.name }}" required>
    </form>
  </li>
  {% endfor %}
</ul>

<form class="inline-form" hx-post="/lists/" hx-target="#sidebar" hx-swap="innerHTML">
  <input type="text" name="name" placeholder="New list..." required>
  <input type="hidden" name="emoji" value="">
  <button type="button" class="emoji-trigger" data-emoji-target="emoji" title="Pick emoji">+</button>
  <button type="submit" class="btn btn-sm">Add</button>
</form>
